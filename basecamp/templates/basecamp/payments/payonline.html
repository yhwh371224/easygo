<!DOCTYPE html>
{% load static %}


<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Airport Transfers Sydney - EasyGo Shuttle bus</title>
    <meta name="google-site-verification" content="hae39L0Kv7JIxVc3YclvckH7Im5SdYa2hk_vZbGJIkA" />
    <meta name="robots" content="noindex, nofollow">
    <meta name="description" content="EasyGo airport shuttle bus provide Sydney airport transport service, private ride with the cheap price. ">
    <meta name="keywords" content="Sydney airport shuttle, Sydney airport transfers, private transfers, cheap airport transfers, maxi taxi, mini bus, uber, airport transport, airport shuttle, airport pickup service, airport private transfers, Sydney hotel transfers, airport cheapest shuttle">
    <meta name="author" content="easycoding.live">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'basecamp/favi/favicon.ico' %}">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'basecamp/favi/apple-touch-icon.png' %}">
    <link rel="android-chrome" type="image/png" sizes="192x192" href="{% static 'basecamp/favi/android-chrome-192x192.png' %}">
    <link rel="android-chrome" type="image/png" sizes="512x512" href="{% static 'basecamp/favi/android-chrome-512x512.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'basecamp/favi/favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'basecamp/favi/favicon-16x16.png' %}">
    <link rel="manifest" href="{% static 'basecamp/favi/site.webmanifest' %}">
    <link rel="stylesheet" media="screen" href="{% static 'basecamp/css/theme.min.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

    <!-- CSP-safe inline styles -->
    <style nonce="{{ csp_nonce }}">
    .custom-card{padding:2rem;background-color:#f0f8ff;z-index:10;position:relative}
    .jarallax-img{background-image:url("{% static 'basecamp/images/page-title-bg.webp' %}")}
    .col-offset-top{margin-top:-280px}
    .card.info .card-header{background-color:#f0f8ff}
    .card.info .card-body{padding:1.75rem}
    .card.info .card-body p{margin-bottom:2.4rem}
    .card.info .card-body p:last-child{margin-bottom:0}
    .card.info .card-body strong{display:inline-block;font-size:1rem;font-weight:bold}
    .card.info .info-step{margin-bottom:2.4rem}
    .card.info .info-step .info-option{display:block;margin-left:1.5rem;margin-top:0.3rem;margin-bottom:0.9rem}
    .card.info .info-step .info-option:last-child{margin-bottom:0}
    .card.info .info-step strong{display:inline-block;margin-bottom:0.2rem;font-size:0.9rem}
    @media(max-width:767px){.jarallax-img{min-height:400px}.col-offset-top{margin-top:-100px}.card.info .card-body{padding:1.4rem}.card.info .card-body p{margin-bottom:1.2rem}}
    </style>
  </head>

  <body>
    {% include "basecamp/layouts/navbar.html" %}

    <main class="page-wrapper">      
      <!-- Page Title -->
      <section class="jarallax bg-gradient pt-5 pb-7 pt-md-7" data-jarallax data-speed="0.25">
        <span class="position-absolute top-0 start-0 w-100 h-100 bg-gradient opacity-80"></span>
        <div class="jarallax-img"></div>
        <div class="shape shape-bottom shape-slant bg-body">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3000 260">
            <polygon fill="currentColor" points="0,257 0,260 3000,260 3000,0"></polygon>
          </svg>
        </div>
        <div class="container position-relative zindex-5 pt-3 pb-7 pt-md-0" >
          <div class="row justify-content-center pb-7">
            <h1></h1>
        </div>
      </section>

      <section class="container position-relative zindex-5 px-0 px-xl-3">
        <div class="row">

          <!-- PayPal Form -->
          <div class="col-lg-7 col-md-7 pb-2 mb-5" style="margin-top: -150px;">
            <div class="card custom-card border-1 shadow-lg">              
              <form method="post" id="paypal-form" class="card-body p-5">
                {% csrf_token %}
                <h3 class="text-center">PayPal Checkout</h3>
                <br><br>
                <div id="smart-button-container">
                  <div style="text-align: center"><small>BOOKING NAME</small></div>
                  <div style="text-align: center">
                    <input type="text" name="descriptionInput" id="description" value="">
                  </div>
                  <p id="descriptionError" style="visibility: hidden; color:red; text-align: center;">Please enter your booking name</p>

                  <div style="text-align: center"><small>ENTER AMOUNT</small></div>
                  <div style="text-align: center">
                    <input name="amountInput" type="number" id="amount" min="1" step="0.01" value="">
                  </div>
                  <p id="priceLabelError" style="visibility: hidden; color:red; text-align: center;">Price only without $ sign</p>
                  <br><br>

                  <div style="text-align: center; margin-top: 0.625rem;" id="paypal-button-container"></div>
                </div>
              </form>

              <div class="container" style="margin-top: 60px;">
                <h5 class="text-center mb-4">Secure Payment Guaranteed</h5>
              </div>
              <div class="text-center" style="margin-top: 16px; margin-bottom: 8px;">
                <span style="display: inline-flex; align-items: center; flex-wrap: wrap; justify-content: center; gap: 6px; color: #888; font-size: 0.8rem;">
                  Secured by PayPal's encryption & buyer protection.&nbsp;
                  <a href="https://www.paypal.com/us/legalhub/privacy-full" target="_blank" rel="noopener">Privacy Policy</a>&
                  <a href="https://www.paypal.com/us/legalhub/useragreement-full" target="_blank" rel="noopener">Terms</a>
                </span>
              </div>
            </div>
          </div>

          <!-- Payment Instructions Card -->
          <div class="col-lg-4 col-md-4 offset-md-1" style="margin-top: -50px;">
            <div class="card my-4 info">
              <h5 class="card-header text-warning">Payment Instructions</h5>
              <div class="card-body">

                <!-- Step 1 -->
                <div class="info-step">
                  <strong>Step 1</strong>
                  <p>Enter your Booking Name and Amount.</p>
                </div>

                <!-- Step 2 -->
                <div class="info-step">
                  <strong>Step 2</strong>
                  <p>Choose your payment option.<br>
                    Select either PayPal or Debit/Credit Card to proceed.</p>
                </div>

                <!-- Step 3 -->
                <div class="info-step">
                  <strong>Step 3</strong>

                  <!-- PayPal Option -->
                  <span class="info-option">
                    <strong>PayPal Option:</strong> After clicking the PayPal button, a blank popup window may appear. Close it manually to reveal the PayPal login window behind it.
                  </span>

                  <!-- Debit/Credit Card Option -->
                  <span class="info-option">
                    <strong>Debit/Credit Card Option:</strong> After clicking the Debit/Credit button, please select the country where your card was issued.
                  </span>
                </p>

              </div>
            </div>
          </div>
        </div>
        </div>
      </section>

      <!-- Scripts -->
      <script src="https://www.paypal.com/sdk/js?client-id={{ paypal_client_id }}&components=buttons&enable-funding=card&disable-funding=paylater,venmo&currency=AUD" data-sdk-integration-source="integrationbuilder_sc" nonce="{{ csp_nonce }}"></script>
      <script nonce="{{ csp_nonce }}">
        paypal.Buttons({
          commit: true,                 

          createOrder: function(data, actions) {
            var item_name = document.getElementById("description").value.trim();
            var amount = document.getElementById("amount").value;
            if(!item_name || isNaN(amount) || amount <= 0){
              alert("Please enter a valid booking name and amount.");
              return;
            }
            var gross_amount = (amount * 1.03).toFixed(2);
            return actions.order.create({
              purchase_units: [{
                amount: { value: gross_amount },
                description: item_name,
              }]
            });
          },
          
          onApprove: function(data, actions) {
            return actions.order.capture().then(function(details) {
              var item_name = document.getElementById("description").value;
              var payer_email = details.payer.email_address;
              var amount = document.getElementById("amount").value;
              var gross_amount = (amount * 1.03).toFixed(2);

              return fetch('/paypal_ipn/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ item_name, payer_email, gross_amount })
              }).then(function(response) {
                window.location.href = "/success/";
              });
            });
          }
        }).render('#paypal-button-container');
      </script>

      <script nonce="{{ csp_nonce }}">
        document.getElementById('current-year').textContent = new Date().getFullYear();
      </script>
    </main>

    {% include "basecamp/layouts/footer.html" %}

    <script src="{% static 'basecamp/js/bootstrap.bundle.min.js' %}" defer nonce="{{ csp_nonce }}"></script>
    <script src="{% static 'basecamp/js/smooth-scroll.polyfills.min.js' %}" defer nonce="{{ csp_nonce }}"></script>
    <script src="{% static 'basecamp/js/theme.min.js' %}" defer nonce="{{ csp_nonce }}"></script>
  </body>
</html>